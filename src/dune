;; The "preprocess" directive must be the same in every clause,
;; otherwise there will be warnings printed about an inaccurate
;; .merlin file being generated.

;; ;; If one wishes to deactivate unused variable warnings (code 27) entirely
;; (env
;;  (dev
;;   (flags (:standard -w -27))))

;; If one wishes to make warnings non-fatal

(env
 (dev
  (flags
   (:standard -warn-error -A -w -53))))

(library
 (name huxian)
 (public_name src)
 (modules
  Checker
  CheckerTypes
  Constants
  Mem
  Avl
  Kit
  FixedPoint
  Parameters
  Burrow
  Uniswap
  UniswapTypes
  LiquidationAuction
  LiquidationAuctionTypes
  LiquidationAuctionPrimitiveTypes
  Ptr
  DelegationAuction
  DelegationAuctionTypes
  Permission
  Ratio
  BurrowTypes
  TokenTypes
  Ligo
  LigoOp
  Tickets
  Error
  Oracle
  Common)
 (libraries str zarith)
 (wrapped false)
 (instrumentation (backend bisect_ppx))
 (preprocess
  (pps ppx_deriving.std)))

(test
 (name tests)
 (modules
  Tests
  TestAvl
  TestFixedPoint
  TestTez
  TestKit
  TestParameters
  TestLiquidation
  TestUniswap
  TestDelegationAuction
  TestLiquidationAuction
  TestChecker
  TestArbitrary
  TestCommon)
 (libraries huxian ounit2 qcheck)
 (preprocess
  (pps ppx_deriving.std)))
